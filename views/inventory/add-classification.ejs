<h1>Add New Classification</h1>

<% if (message) { %>
  <div class="notice"><%= message %></div>
<% } %>

<% if (errors && errors.length > 0) { %>
  <div class="errors">
    <ul>
      <% errors.forEach(function(error){ %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  </div>
<% } %>

<form action="/inv/add-classification" method="POST" id="addClassificationForm">
  <label for="classification_name">Classification Name</label>
  <input 
    type="text" 
    id="classification_name" 
    name="classification_name" 
    pattern="^[A-Za-z0-9]+$" 
    required 
    title="No spaces or special characters allowed. Only letters and numbers.">
  
  <button type="submit">Add Classification</button>
</form>

<script>
  document.getElementById('addClassificationForm').addEventListener('submit', function (e) {
    const name = document.getElementById('classification_name').value
    const regex = /^[A-Za-z0-9]+$/
    if (!regex.test(name)) {
      alert("Classification name must not contain spaces or special characters.")
      e.preventDefault()
    }
  })
</script>
